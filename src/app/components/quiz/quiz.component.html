<div class="container mt-4" *ngIf="questions.length">
  <div *ngIf="currentQuestion < questions.length">
    <h4>Question {{ currentQuestion + 1 }} / {{ questions.length }}</h4>
    <p [innerHTML]="questions[currentQuestion].question"></p>
    <div class="list-group">
      <button class="list-group-item list-group-item-action" *ngFor="let ans of questions[currentQuestion].answers"
        [class.list-group-item-success]="isAnswered && ans === correctAnswer"
        [class.list-group-item-danger]="isAnswered && ans === selected && ans !== correctAnswer"
        (click)="selectAnswer(ans)">
        {{ ans }}
      </button>
    </div>
  </div>
  <div *ngIf="currentQuestion >= questions.length" class="mt-5">
    <div class="card shadow border-0 text-center p-4">
      <h3 class="mb-3 text-success">ðŸŽ‰ Quiz terminÃ© !</h3>
      <p class="fs-5">Votre score est : <strong>{{ score }}/{{ questions.length }}</strong></p>

      <div class="mt-3">
        <input [(ngModel)]="username" placeholder="Nom d'utilisateur" class="form-control mb-3 mx-auto"
          style="max-width: 400px;" />

        <button class="btn btn-primary px-4" (click)="saveResult()">ðŸ’¾ Enregistrer</button>
      </div>
    </div>
  </div>
</div>
